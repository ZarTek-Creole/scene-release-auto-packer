---
name: design-system-ui-ux
description: R√®gles strictes pour Design System UI/UX - Polices, Onglets, Bordures, Ic√¥nes, Espacements, Couleurs, Accessibilit√©
globs:
  - "**/*.{ts,tsx,js,jsx,css,scss}"
---

# Design System UI/UX - eBook Scene Packer v2

## üéØ Principe Fondamental

**Design int√©gralement clair, moderne et coh√©rent d√®s le d√©but** : Tous les composants UI DOIVENT suivre strictement le Design System document√© dans `docs/DESIGN_SYSTEM_UI_UX.md`.

---

## üö® R√àGLES ABSOLUES

### 1. Coh√©rence Totale Obligatoire
- ‚úÖ **TOUJOURS** utiliser les variables CSS du Design System
- ‚úÖ **TOUJOURS** utiliser Bootstrap Icons (pas d'autres biblioth√®ques d'ic√¥nes)
- ‚úÖ **TOUJOURS** respecter le syst√®me d'espacements (4px base)
- ‚úÖ **JAMAIS** cr√©er de composants sans suivre le Design System
- ‚úÖ **JAMAIS** utiliser couleurs hardcod√©es (toujours variables CSS)

### 2. Polices (Typographie)
- ‚úÖ **Stack polices syst√®me** : `-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif`
- ‚úÖ **Police monospace** : `"SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace` (pour NFO Viewer)
- ‚úÖ **Hi√©rarchie respect√©e** :
  - `h1` : `font-size: 2.25rem` (36px), `font-weight: 700`, `line-height: 1.25`
  - `h2` : `font-size: 1.875rem` (30px), `font-weight: 700`, `line-height: 1.25`
  - `h3` : `font-size: 1.5rem` (24px), `font-weight: 600`, `line-height: 1.5`
  - `h4` : `font-size: 1.25rem` (20px), `font-weight: 600`, `line-height: 1.5`
  - `h5` : `font-size: 1.125rem` (18px), `font-weight: 500`, `line-height: 1.5`
  - `h6` : `font-size: 1rem` (16px), `font-weight: 500`, `line-height: 1.5`
  - `p` : `font-size: 1rem` (16px), `line-height: 1.75`

```css
/* ‚úÖ Bon : Utiliser variables CSS */
.title {
  font-size: var(--font-size-3xl);
  font-weight: var(--font-weight-bold);
  line-height: var(--line-height-tight);
}

/* ‚ùå √âviter : Valeurs hardcod√©es */
.title {
  font-size: 30px;
  font-weight: bold;
}
```

### 3. Onglets (Navigation)

**Structure** :
```tsx
// ‚úÖ Bon : Onglets avec ic√¥nes Bootstrap Icons
<TabsContainer>
  <TabList>
    <Tab id="new-release" icon={<PlusIcon />}>
      Nouvelle Release
    </Tab>
    <Tab id="releases" icon={<ListIcon />}>
      Liste des Releases
    </Tab>
    {/* ... */}
  </TabList>
</TabsContainer>
```

**Styles** :
- ‚úÖ **Bordures** : Bordure inf√©rieure 3px pour onglet actif (couleur primaire)
- ‚úÖ **Polices** : `font-weight-medium` pour inactif, `font-weight-semibold` pour actif
- ‚úÖ **Couleurs** : Couleur primaire pour actif, texte secondaire pour inactif
- ‚úÖ **Espacements** : Padding `0.875rem 1.25rem` (14px 20px)
- ‚úÖ **Ic√¥nes** : Bootstrap Icons, taille `icon-md` (1.25rem)

```css
/* ‚úÖ Bon : Styles onglets selon Design System */
.tab {
  padding: 0.875rem 1.25rem;
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  color: var(--text-secondary);
  border-bottom: 3px solid transparent;
  transition: all var(--transition-fast);
}

.tab[aria-selected="true"] {
  color: var(--color-primary);
  font-weight: var(--font-weight-semibold);
  border-bottom-color: var(--color-primary);
}

/* ‚ùå √âviter : Styles non conformes */
.tab {
  padding: 10px 15px;
  border: 1px solid #000;
}
```

### 4. Bordures

**Syst√®me coh√©rent** :
- ‚úÖ **Rayons** :
  - `--border-radius-sm` : `0.25rem` (4px)
  - `--border-radius` : `0.375rem` (6px) - **D√âFAUT**
  - `--border-radius-lg` : `0.5rem` (8px) - **Pour Cards**
  - `--border-radius-xl` : `0.75rem` (12px)
  - `--border-radius-full` : `9999px` (pour boutons ronds)
- ‚úÖ **Largeur** : `--border-width` : `1px`
- ‚úÖ **Style** : `solid`
- ‚úÖ **Couleur** : Variables CSS selon th√®me (`--border-color`)

```css
/* ‚úÖ Bon : Bordures selon Design System */
.card {
  border: var(--border-width) var(--border-style) var(--border-color);
  border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-sm);
}

.button {
  border-radius: var(--border-radius);
  border: var(--border-width) var(--border-style) transparent;
}

/* ‚ùå √âviter : Bordures hardcod√©es */
.card {
  border: 2px solid #ccc;
  border-radius: 10px;
}
```

### 5. Ic√¥nes

**Biblioth√®que** : **Bootstrap Icons** (OBLIGATOIRE)
- ‚úÖ **Installation** : `npm install bootstrap-icons`
- ‚úÖ **Import** : `import { IconName } from 'bootstrap-icons-react'` ou √©quivalent
- ‚úÖ **Tailles standardis√©es** :
  - `icon-xs` : `0.75rem` (12px)
  - `icon-sm` : `1rem` (16px)
  - `icon-md` : `1.25rem` (20px) - **D√âFAUT**
  - `icon-lg` : `1.5rem` (24px)
  - `icon-xl` : `2rem` (32px)

**Ic√¥nes principales par fonctionnalit√©** :
```tsx
// Navigation
<PlusIcon />          // Nouvelle Release
<ListIcon />          // Liste Releases
<FileTextIcon />      // Rules
<UsersIcon />         // Utilisateurs
<ShieldIcon />        // R√¥les
<SettingsIcon />      // Configurations

// Actions
<EditIcon />          // √âditer
<DeleteIcon />        // Supprimer
<SaveIcon />          // Sauvegarder
<SearchIcon />        // Rechercher
<DownloadIcon />      // T√©l√©charger
<UploadIcon />        // Uploader

// Th√®me
<SunIcon />           // Th√®me jour
<MoonIcon />          // Th√®me nuit

// Wizard
<ArrowLeftIcon />     // Pr√©c√©dent
<ArrowRightIcon />    // Suivant
```

```tsx
// ‚úÖ Bon : Ic√¥ne avec taille standardis√©e
<Button icon={<PlusIcon className="icon-md" />}>
  Ajouter
</Button>

// ‚ùå √âviter : Autres biblioth√®ques ou tailles non standardis√©es
<Button icon={<FaPlus size={18} />}>
  Ajouter
</Button>
```

### 6. Espacements (Spacing)

**Syst√®me bas√© sur 4px** (0.25rem) :
- ‚úÖ **Variables CSS** :
  - `--spacing-1` : `0.25rem` (4px)
  - `--spacing-2` : `0.5rem` (8px)
  - `--spacing-4` : `1rem` (16px) - **D√âFAUT**
  - `--spacing-6` : `1.5rem` (24px)
  - `--spacing-8` : `2rem` (32px)
- ‚úÖ **TOUJOURS** utiliser variables CSS ou classes utilitaires
- ‚ùå **JAMAIS** utiliser valeurs hardcod√©es

```css
/* ‚úÖ Bon : Espacements selon Design System */
.card {
  padding: var(--spacing-6);
  margin-bottom: var(--spacing-4);
}

.button-group {
  gap: var(--spacing-2);
}

/* ‚ùå √âviter : Espacements hardcod√©s */
.card {
  padding: 20px;
  margin-bottom: 15px;
}
```

### 7. Couleurs

**Syst√®me de couleurs** :
- ‚úÖ **Variables CSS** : TOUJOURS utiliser variables CSS (jamais hardcod√©es)
- ‚úÖ **Th√®me jour/nuit** : Toutes couleurs adaptatives via variables
- ‚úÖ **Contraste** : WCAG 2.2 AA (ratio ‚â• 4.5:1 texte normal)

**Variables principales** :
```css
/* Th√®me Clair */
--color-primary: #0d6efd;
--color-bg: #ffffff;
--color-text: #212529;
--text-secondary: #6c757d;

/* Th√®me Sombre */
--color-primary-dark: #4dabf7;
--color-bg-dark: #1a1d20;
--color-text-dark: #f8f9fa;
```

```tsx
// ‚úÖ Bon : Utiliser variables CSS
<div style={{ backgroundColor: 'var(--color-bg)', color: 'var(--color-text)' }}>

// ‚ùå √âviter : Couleurs hardcod√©es
<div style={{ backgroundColor: '#ffffff', color: '#212529' }}>
```

### 8. Accessibilit√© (WCAG 2.2 AA)

**Obligatoire** :
- ‚úÖ **Contraste couleurs** : Ratio ‚â• 4.5:1 (texte normal), ‚â• 3:1 (texte large)
- ‚úÖ **Focus visible** : Outline 2px couleur primaire
- ‚úÖ **ARIA labels** : Tous √©l√©ments interactifs
- ‚úÖ **Navigation clavier** : Tab order logique, skip links

```tsx
// ‚úÖ Bon : Accessible
<Button
  aria-label="Ajouter une nouvelle release"
  onKeyDown={(e) => e.key === 'Enter' && handleClick()}
>
  <PlusIcon aria-hidden="true" />
  Ajouter
</Button>

// ‚ùå √âviter : Sans ARIA, focus invisible
<button onClick={handleClick}>
  <PlusIcon />
</button>
```

---

## üì¶ Composants UI

### Button

```tsx
// ‚úÖ Bon : Button selon Design System
<Button
  variant="primary"        // primary, secondary, outline, ghost, link
  size="md"                // sm, md, lg
  icon={<PlusIcon />}      // Ic√¥ne Bootstrap Icons
  iconPosition="left"      // left, right
  disabled={false}
  loading={false}
>
  Ajouter
</Button>
```

**Styles** :
- Padding : `0.625rem 1.25rem` (variant md)
- Border radius : `var(--border-radius)`
- Transition : `var(--transition-fast)`
- Focus : Outline 2px couleur primaire

### Input

```tsx
// ‚úÖ Bon : Input selon Design System
<Input
  id="username"
  type="text"
  placeholder="Nom d'utilisateur"
  icon={<UserIcon />}      // Ic√¥ne optionnelle
  error="Ce champ est requis"
  required
/>
```

**Styles** :
- Padding : `0.625rem 0.875rem`
- Border radius : `var(--border-radius)`
- Focus : Border couleur primaire + box-shadow

### Card

```tsx
// ‚úÖ Bon : Card selon Design System
<Card>
  <CardHeader>
    <CardTitle>Titre</CardTitle>
  </CardHeader>
  <CardBody>
    Contenu
  </CardBody>
  <CardFooter>
    Actions
  </CardFooter>
</Card>
```

**Styles** :
- Border : `var(--border-width) var(--border-style) var(--border-color)`
- Border radius : `var(--border-radius-lg)` (8px)
- Box shadow : `var(--shadow-sm)`
- Padding : `var(--spacing-6)` (1.5rem)

### Tabs

```tsx
// ‚úÖ Bon : Tabs selon Design System
<TabsContainer>
  <TabList>
    <Tab id="tab1" icon={<PlusIcon />}>Onglet 1</Tab>
    <Tab id="tab2" icon={<ListIcon />}>Onglet 2</Tab>
  </TabList>
  <TabPanels>
    <TabPanel id="tab1">Contenu 1</TabPanel>
    <TabPanel id="tab2">Contenu 2</TabPanel>
  </TabPanels>
</TabsContainer>
```

**Styles** :
- Onglet actif : Bordure inf√©rieure 3px couleur primaire
- Padding : `0.875rem 1.25rem`
- Transition : `var(--transition-fast)`

---

## üé® Th√®me Jour/Nuit

**Impl√©mentation** :
```tsx
// ‚úÖ Bon : Th√®me avec variables CSS
const ThemeProvider = ({ children }) => {
  const [theme, setTheme] = useState<'light' | 'dark'>('light');
  
  useEffect(() => {
    document.documentElement.setAttribute('data-theme', theme);
    localStorage.setItem('theme', theme);
  }, [theme]);
  
  return (
    <ThemeContext.Provider value={{ theme, setTheme }}>
      {children}
    </ThemeContext.Provider>
  );
};
```

**Toggle** :
```tsx
// ‚úÖ Bon : Toggle th√®me selon Design System
<Button variant="ghost" onClick={toggleTheme}>
  {theme === 'light' ? (
    <MoonIcon className="icon-md" />
  ) : (
    <SunIcon className="icon-md" />
  )}
</Button>
```

**Variables CSS adaptatives** :
```css
[data-theme="light"] {
  --color-bg: var(--bg-primary);
  --color-text: var(--text-primary);
}

[data-theme="dark"] {
  --color-bg: var(--bg-primary-dark);
  --color-text: var(--text-primary-dark);
}
```

---

## üìê Structure Fichiers CSS

**Organisation obligatoire** :
```
frontend/src/styles/
‚îú‚îÄ‚îÄ _variables.css        # Variables CSS (couleurs, espacements, bordures)
‚îú‚îÄ‚îÄ _typography.css       # Typographie compl√®te
‚îú‚îÄ‚îÄ _components.css       # Styles composants UI
‚îú‚îÄ‚îÄ _theme.css            # Th√®me jour/nuit
‚îî‚îÄ‚îÄ main.css              # Import tous styles
```

**Import** :
```css
/* main.css */
@import './variables.css';
@import './typography.css';
@import './theme.css';
@import './components.css';
```

---

## ‚úÖ Checklist Avant Cr√©ation Composant

### Obligatoire
- [ ] Composant utilise variables CSS (pas de valeurs hardcod√©es)
- [ ] Ic√¥nes : Bootstrap Icons uniquement (tailles standardis√©es)
- [ ] Espacements : Variables CSS ou classes utilitaires
- [ ] Bordures : Rayons selon Design System
- [ ] Couleurs : Variables CSS avec support th√®me jour/nuit
- [ ] Typographie : Hi√©rarchie respect√©e (h1-h6, p)
- [ ] Accessibilit√© : ARIA labels, focus visible, contraste ‚â• 4.5:1

### Recommand√©
- [ ] Transition fluide (150-350ms)
- [ ] √âtats hover/active/focus d√©finis
- [ ] Responsive test√© (mobile/tablet/desktop)
- [ ] Documentation composant avec exemples

---

## üö´ Anti-Patterns

### ‚ùå Couleurs Hardcod√©es
```css
/* ‚ùå Mauvais */
.button {
  background-color: #0d6efd;
  color: #ffffff;
}

/* ‚úÖ Bon */
.button {
  background-color: var(--color-primary);
  color: var(--text-inverse);
}
```

### ‚ùå Espacements Hardcod√©s
```css
/* ‚ùå Mauvais */
.card {
  padding: 20px;
  margin: 15px;
}

/* ‚úÖ Bon */
.card {
  padding: var(--spacing-8);
  margin: var(--spacing-6);
}
```

### ‚ùå Autres Biblioth√®ques Ic√¥nes
```tsx
// ‚ùå Mauvais : Font Awesome
import { FaPlus } from 'react-icons/fa';

// ‚ùå Mauvais : Heroicons
import { PlusIcon } from '@heroicons/react/24/outline';

// ‚úÖ Bon : Bootstrap Icons
import { Plus as PlusIcon } from 'bootstrap-icons-react';
```

### ‚ùå Bordures Non Conformes
```css
/* ‚ùå Mauvais */
.card {
  border-radius: 10px;
  border: 2px solid #ccc;
}

/* ‚úÖ Bon */
.card {
  border-radius: var(--border-radius-lg);
  border: var(--border-width) var(--border-style) var(--border-color);
}
```

---

## üìö R√©f√©rences

- **Design System complet** : `docs/DESIGN_SYSTEM_UI_UX.md` ‚≠ê
- **Plan d'impl√©mentation** : `docs/UI_UX_IMPLEMENTATION_PLAN.md`
- **Bootstrap Icons** : https://icons.getbootstrap.com/
- **WCAG 2.2** : https://www.w3.org/WAI/WCAG22/quickref/

---

## üîó Liens Utiles

- **PRD-001** : `docs/PRDs/PRD-001-Interface-Admin.md`
- **PRD-002** : `docs/PRDs/PRD-002-Nouvelle-Release.md`
- **DEVBOOK** : `docs/DEVBOOK.md`

---

**Derni√®re mise √† jour** : 2025-11-01  
**Version** : 1.0.0  
**Priorit√©** : CRITIQUE ‚ö†Ô∏è

**Rappel** : Cette r√®gle est **toujours active** (`alwaysApply: true`) pour garantir un Design System coh√©rent d√®s le d√©but.
