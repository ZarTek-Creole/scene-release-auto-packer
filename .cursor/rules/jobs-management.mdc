---
name: jobs-management
description: RÃ¨gles strictes pour Jobs Management - Statuts, Logs, Progression
globs:
  - "**/*.{py,js,jsx,ts,tsx}"
---

# Jobs Management - RÃ¨gles Strictes

## ðŸŽ¯ Objectif

Assurer gestion complÃ¨te des jobs de packaging avec statuts, logs structurÃ©s, progression tracking et persistance Ã©tat.

---

## ðŸ“‹ RÃ¨gles Obligatoires

### 1. Statuts Jobs

**Statuts Obligatoires** :
- `draft` : Wizard en cours, non packagÃ©
- `running` : Packaging en cours
- `completed` : Packaging terminÃ© avec succÃ¨s
- `failed` : Packaging Ã©chouÃ©
- `cancelled` : Packaging annulÃ©

**Transitions** :
```
draft â†’ running â†’ completed
draft â†’ running â†’ failed
draft â†’ running â†’ cancelled
```

---

### 2. Logs StructurÃ©s

**Format** :
```python
{
  "timestamp": "2025-11-01T10:00:00Z",
  "level": "INFO|ERROR|WARNING",
  "message": "Message log",
  "step": "packaging|validation|upload",
  "progress": 50
}
```

**Stockage** : TEXT ou JSON en base de donnÃ©es

---

### 3. Progression Tracking

**Progression** :
- Pourcentage : 0-100
- Ã‰tape : Nom Ã©tape courante
- Temps estimÃ© restant

**Update** : Toutes les 500ms pendant packaging

---

### 4. Jobs Asynchrones

**Option 1** : Threading (simple)
**Option 2** : Celery (production)

---

## ðŸ“š RÃ©fÃ©rences

- **PRD-002** : `docs/PRDs/PRD-002-Nouvelle-Release.md` (Ã‰tape 8)
- **ERD** : `docs/DATABASE_ERD.md` (table `jobs`)

---

**DerniÃ¨re mise Ã  jour** : 2025-11-01
